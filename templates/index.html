<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <title>Matchmaker dla B2B</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
    <div id="app" class="landing-container">
        <h1>Matchmaker dla B2B</h1>
        <div class="login-box">
            <h2 style="color: #fd297b;">Witaj</h2>
            <input type="text" v-model="username" placeholder="Nazwa użytkownika (admin)">
            <input type="password" v-model="password" placeholder="Hasło (admin)">
            <button class="btn-main" @click="handleLogin">Zaloguj się</button>
            <p style="font-size: 12px; color: #888; margin-top: 15px;">Nie masz konta? Zarejestruj się</p>
        </div>
    </div>

    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script>
        const { createApp } = Vue;

        createApp({
            data() {
                return {
                    username: '',
                    password: ''
                }
            },
            methods: {
                async handleLogin() {
                    const response = await fetch('/login', {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({ username: this.username, password: this.password })
                    });
                    const data = await response.json();
                    if (data.success) {
                        window.location.href = data.redirect;
                    } else {
                        alert(data.message);
                    }
                }
            }
        }).mount('#app');
    </script>
</body>
</html>